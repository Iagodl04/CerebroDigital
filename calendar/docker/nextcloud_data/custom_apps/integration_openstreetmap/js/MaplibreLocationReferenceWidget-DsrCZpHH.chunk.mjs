(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".location-reference[data-v-2fe27409]{width:100%;white-space:normal}.location-reference .location[data-v-2fe27409]{width:100%;display:flex;flex-direction:column;position:relative}.location-reference .location--link[data-v-2fe27409]{padding:10px}.location-reference .location--link[data-v-2fe27409]:hover{color:#58a6ff!important}.location-reference .location--map[data-v-2fe27409]{width:100%;height:350px}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
import{M as m}from"./MaplibreMap-YzUp5Hnt.chunk.mjs";import{_ as y}from"./VMarker-CWNB22yj.chunk.mjs";import{_ as u}from"./index-B-L25m6y.chunk.mjs";import{r as o,c as s,o as i,a as n,b as a,d as b,t as g,w as f,e as c}from"./runtime-core.esm-bundler-CsAAUxo4.chunk.mjs";import"./mapUtils-m7e-c8Iy.chunk.mjs";import"./index-BH5XFfaS.chunk.mjs";import"./index-DZI6LgVG.chunk.mjs";const j={name:"PolygonFill",components:{},mixins:[],props:{layerId:{type:String,required:!0},geojson:{type:Object,required:!0},map:{type:Object,required:!0},fillOutlineColor:{type:String,default:"blue"},fillColor:{type:String,default:"lightblue"},fillOpacity:{type:Number,default:.5},contourLineWidth:{type:Number,default:4}},data(){return{ready:!1}},computed:{shouldFill(){return this.geojson.type==="Polygon"}},watch:{fillColor(e){this.map.getLayer(this.layerId)&&this.map.setPaintProperty(this.layerId,"fill-color",e)},fillOpacity(e){this.map.getLayer(this.layerId)&&this.map.setPaintProperty(this.layerId,"fill-opacity",e)},fillOutlineColor(e){this.map.getLayer(this.layerId)&&this.map.setPaintProperty(this.layerId,"fill-outline-color",e)},geojson(){this.remove(),this.init()}},mounted(){this.init()},unmounted(){this.remove()},methods:{bringToTop(){this.map.getLayer(this.layerId)&&this.map.moveLayer(this.layerId)},remove(){this.map.getLayer(this.layerId)&&this.map.removeLayer(this.layerId),this.map.getLayer(this.layerId+"-contour")&&this.map.removeLayer(this.layerId+"-contour"),this.map.getSource(this.layerId)&&this.map.removeSource(this.layerId)},init(){this.map.addSource(this.layerId,{type:"geojson",lineMetrics:!0,data:this.geojson}),this.shouldFill&&this.map.addLayer({type:"fill",source:this.layerId,id:this.layerId,paint:{"fill-color":this.fillColor,"fill-opacity":this.fillOpacity,"fill-outline-color":this.fillOutlineColor}}),this.map.addLayer({type:"line",source:this.layerId,id:this.layerId+"-contour",paint:{"line-color":this.fillColor,"line-width":this.contourLineWidth},layout:{"line-cap":"round","line-join":"round"}}),this.ready=!0}},render(e){return null}},O={name:"MaplibreLocationReferenceWidget",components:{PolygonFill:j,VMarker:y,MaplibreMap:m},props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0}},data(){return{}},computed:{bbox(){if(this.mapCenter)return;const e=this.richObject.boundingbox;return{north:e[1],south:e[0],east:e[3],west:e[2]}},zoom(){return this.richObject.zoom},pitch(){return this.richObject.pitch},bearing(){return this.richObject.bearing},style(){return this.richObject.style??void 0},useTerrain(){return this.richObject.terrain??void 0},useGlobe(){return this.richObject.globe??void 0},mapCenter(){return this.richObject.map_center},markerCoords(){return this.richObject.marker_coordinates}},methods:{}},I={class:"location-reference"},L={class:"location"},v=["href"],C={class:"location--name"};function k(e,_,r,P,M,t){const h=o("VMarker"),p=o("PolygonFill"),d=o("MaplibreMap");return i(),s("div",I,[n("div",L,[r.richObject.display_name?(i(),s("a",{key:0,class:"location--link",href:r.richObject.url,target:"_blank"},[n("strong",C,g(r.richObject.display_name),1)],8,v)):a("",!0),b(d,{class:"location--map",scrolling:"no",bbox:t.bbox,center:t.mapCenter,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,"map-style":t.style,"use-terrain":t.useTerrain,"use-globe":t.useGlobe},{default:f(({map:l})=>[t.markerCoords?(i(),c(h,{key:0,map:l,"lng-lat":t.markerCoords},null,8,["map","lng-lat"])):a("",!0),r.richObject.geojson?(i(),c(p,{key:1,"layer-id":"target-object",geojson:r.richObject.geojson,map:l,"fill-opacity":.25},null,8,["geojson","map"])):a("",!0)]),_:1},8,["bbox","center","zoom","pitch","bearing","map-style","use-terrain","use-globe"])])])}const V=u(O,[["render",k],["__scopeId","data-v-2fe27409"]]);export{V as default};
//# sourceMappingURL=MaplibreLocationReferenceWidget-DsrCZpHH.chunk.mjs.map
